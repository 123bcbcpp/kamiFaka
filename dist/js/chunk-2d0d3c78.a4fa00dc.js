(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3c78"],{"5de8":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),d=Object(c["j"])("div",{class:"section-header"},[Object(c["j"])("h1",null,"卡密列表")],-1),l={class:"section-body"},n=Object(c["j"])("h2",{class:"section-title"},"Pricing",-1),o=Object(c["j"])("p",{class:"section-lead"}," Price components are very important for SaaS projects or other projects. ",-1),s={class:"row"},r={class:"col"},i={class:"card"},j=Object(c["j"])("div",{class:"card-header"},[Object(c["j"])("h4",null,"Invoices"),Object(c["j"])("div",{class:"card-header-action"},[Object(c["j"])("a",{class:"btn btn-success","data-toggle":"modal","data-target":"#add"},[Object(c["i"])("新增卡密 "),Object(c["j"])("i",{class:"fas fa-chevron-right"})])])],-1),b={class:"card-body p-0"},u={class:"table-responsive table-invoice"},O={class:"table table-striped"},m=Object(c["j"])("tr",null,[Object(c["j"])("th",null,"ID"),Object(c["j"])("th",null,"名称"),Object(c["j"])("th",null,"卡密信息"),Object(c["j"])("th",null,"状态"),Object(c["j"])("th",null,"重复"),Object(c["j"])("th",null,"操作")],-1),p={class:"font-weight-600"},f={class:"font-weight-600"},h=Object(c["j"])("i",{class:"fas fa-pencil-alt"},null,-1),_=Object(c["j"])("i",{class:"fas fa-trash"},null,-1),g={class:"modal fade",id:"add",tabindex:"-1",role:"dialog","data-backdrop":"false","aria-labelledby":"add","aria-hidden":"true"},v={class:"modal-dialog",role:"document"},y={class:"modal-content"},w=Object(c["j"])("div",{class:"modal-header"},[Object(c["j"])("h5",{class:"modal-title",id:"exampleModalLabel"},"新增商品"),Object(c["j"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["j"])("span",{"aria-hidden":"true"},"×")])],-1),k={class:"modal-body"},x={class:"form-group"},C=Object(c["j"])("label",null,"选择商品 ",-1),D=Object(c["j"])("label",null,[Object(c["i"])("卡密信息 "),Object(c["j"])("code",null,"【单独插入】")],-1),U=Object(c["j"])("label",null,[Object(c["i"])("批量导入卡密信息 "),Object(c["j"])("code",null,"【要求每行一条卡密信息】")],-1),V={class:"custom-switch mt-2"},S=Object(c["i"])("是否重复使用该卡密： "),K=Object(c["j"])("span",{class:"custom-switch-indicator"},null,-1),J={class:"modal-footer"},E=Object(c["j"])("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close",-1),H={class:"modal fade",id:"edit",tabindex:"-1",role:"dialog","data-backdrop":"false","aria-labelledby":"edit","aria-hidden":"true"},I={class:"modal-dialog",role:"document"},L={class:"modal-content"},M=Object(c["j"])("div",{class:"modal-header"},[Object(c["j"])("h5",{class:"modal-title",id:"exampleModalLabel"},"编辑卡密"),Object(c["j"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["j"])("span",{"aria-hidden":"true"},"×")])],-1),P={class:"modal-body"},F={class:"form-group"},N=Object(c["j"])("label",null,"商品名称 ",-1),W=Object(c["j"])("label",null,"卡密信息 ",-1),Y={class:"custom-switch mt-2"},q=Object(c["i"])("是否重复使用该卡密： "),z=Object(c["j"])("span",{class:"custom-switch-indicator"},null,-1),A={class:"modal-footer"},B=Object(c["j"])("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close",-1);function G(t,e,a,G,Q,R){return Object(c["u"])(),Object(c["f"])(c["a"],null,[d,Object(c["j"])("div",l,[n,o,Object(c["j"])("div",s,[Object(c["j"])("div",r,[Object(c["j"])("div",i,[j,Object(c["j"])("div",b,[Object(c["j"])("div",u,[Object(c["j"])("table",O,[Object(c["j"])("tbody",null,[m,(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(t.cards,(function(t,e){return Object(c["u"])(),Object(c["f"])("tr",{key:t.id},[Object(c["j"])("td",null,Object(c["D"])(t.id),1),Object(c["j"])("td",p,Object(c["D"])(t.prod_name),1),Object(c["j"])("td",f,Object(c["D"])(t.card),1),Object(c["j"])("td",null,[Object(c["j"])("div",{class:["badge",0==t.isused?"badge-info":"badge-secondary"]},Object(c["D"])(0==t.isused?"有效":"已使用"),3)]),Object(c["j"])("td",null,[Object(c["j"])("div",{class:["badge",t.reuse?"badge-info":"badge-secondary"]},Object(c["D"])(1==t.reuse?"Yes":"No"),3)]),Object(c["j"])("td",null,[Object(c["j"])("a",{onClick:function(t){return G.edit(e)},class:"btn btn-primary btn-action mr-1","data-toggle":"modal",title:"","data-original-title":"Edit","data-target":"#edit"},[h],8,["onClick"]),Object(c["j"])("a",{onClick:function(t){return G.del(e)},class:"btn btn-danger btn-action trigger--fire-modal-1"},[_],8,["onClick"])])])})),128))])])])])])])])]),Object(c["j"])("div",g,[Object(c["j"])("div",v,[Object(c["j"])("div",y,[w,Object(c["j"])("div",k,[Object(c["j"])("div",x,[C,Object(c["O"])(Object(c["j"])("select",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.add_card.prod_name=e})},[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(t.shops,(function(t){return Object(c["u"])(),Object(c["f"])("option",{key:t.id},Object(c["D"])(t),1)})),128))],512),[[c["J"],t.add_card.prod_name]]),D,Object(c["O"])(Object(c["j"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.add_card.card=e})},null,512),[[c["K"],t.add_card.card]]),U,Object(c["O"])(Object(c["j"])("textarea",{class:"form-control form-control-alternative",style:{height:"150px"},placeholder:"Write a large text here ...","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.add_card.cards=e})},null,512),[[c["K"],t.add_card.cards]]),Object(c["j"])("label",V,[S,Object(c["O"])(Object(c["j"])("input",{type:"checkbox",name:"custom-switch-checkbox",class:"custom-switch-input","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.add_card.reuse=e})},null,512),[[c["H"],t.add_card.reuse]]),K])])]),Object(c["j"])("div",J,[E,Object(c["j"])("button",{onClick:e[5]||(e[5]=function(t){return G.add()}),type:"button",class:"btn btn-primary","data-dismiss":"modal"},"Save changes")])])])]),Object(c["j"])("div",H,[Object(c["j"])("div",I,[Object(c["j"])("div",L,[M,Object(c["j"])("div",P,[Object(c["j"])("div",F,[N,Object(c["O"])(Object(c["j"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[6]||(e[6]=function(e){return t.edit_card.prod_name=e})},null,512),[[c["K"],t.edit_card.prod_name]]),W,Object(c["O"])(Object(c["j"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.edit_card.card=e})},null,512),[[c["K"],t.edit_card.card]]),Object(c["j"])("label",Y,[q,Object(c["O"])(Object(c["j"])("input",{type:"checkbox",name:"custom-switch-checkbox",class:"custom-switch-input","onUpdate:modelValue":e[8]||(e[8]=function(e){return t.edit_card.reuse=e})},null,512),[[c["H"],t.edit_card.reuse]]),z])])]),Object(c["j"])("div",A,[B,Object(c["j"])("button",{onClick:e[9]||(e[9]=function(t){return G.edit_save()}),type:"button",class:"btn btn-primary","data-dismiss":"modal"},"Save changes")])])])])],64)}a("4160"),a("b0c0"),a("b64b"),a("159b");var Q=a("5530"),R=a("f96b"),T=a("6c42"),X={setup:function(){var t=Object(c["w"])({cards:[],edit_card:{},edit_card_new:{},card_id:null,add_card:{card:"",cards:"",data:""},shops:[]}),e=Object(T["b"])(),a=function(){R["a"].getCard().then((function(e){console.log(e),t.cards=e}))};Object(c["s"])((function(){a(),R["a"].getShop().then((function(e){e.forEach((function(e){t.shops.push(e.name)}))}))}));var d=function(e){t.edit_card=t.cards[e],console.log(t.edit_card)},l=function(){console.log(t.edit_card.id),t.edit_card.methord="update",console.log(t.edit_card),R["a"].postCard(t.edit_card).then((function(t){console.log(t),e.success("修改成功")})).catch((function(){e.error("啊呀呀，出错了！"),a()}))},n=function(c){t.card_id=t.cards[c].id,console.log(t.card_id),R["a"].postCard({id:t.card_id,methord:"delete"}).then((function(c){console.log(c),e.success("删除成功"),a(),t.card_id=null})).catch((function(){e.warning("删除失败")}))},o=function(){0!=Object.keys(t.add_card).length?""!=t.add_card.card||""!=t.add_card.cards?(""!=t.add_card.card?t.add_card.data=t.add_card.card:t.add_card.data=t.add_card.cards,R["a"].postCard({prod_name:t.add_card.prod_name,card:t.add_card.data,methord:"add",reuse:t.add_card.reuse}).then((function(c){e.success(c),t.add_card={card:"",cards:"",data:""},a()})).catch((function(){e.error("呀！导入异常")}))):e.warning("请填写至少一个卡密信息"):e.warning("请填写正确的参数")};return Object(Q["a"])(Object(Q["a"])({},Object(c["F"])(t)),{},{del:n,edit:d,add:o,edit_save:l,get_data:a})}};X.render=G;e["default"]=X}}]);
//# sourceMappingURL=chunk-2d0d3c78.a4fa00dc.js.map